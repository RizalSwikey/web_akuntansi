{% extends "base.html" %} {% load static %} {% block title %}Dashboard -
Pendapatan{% endblock %} {% block content %}
<div class="bg-[#F4F6F9]">
  <div
    id="sidebar-overlay"
    class="fixed inset-0 bg-black/60 z-20 md:hidden hidden"
  ></div>
  <div class="relative min-h-screen md:flex md:gap-6 md:p-6">
    {% include 'core/partials/side_menu.html' %}

    <button
      id="mobile-menu-btn"
      class="md:hidden fixed top-4 left-4 z-40 text-slate-800 p-2 bg-white rounded-md shadow-md"
    >
      <svg
        class="w-6 h-6"
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="1.5"
        stroke="currentColor"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"
        />
      </svg>
    </button>

    <main id="main-content" class="flex-1 p-6 pt-20 md:pt-0">
      <div class="flex justify-between items-center mb-6">
        <h1 class="text-2xl md:text-3xl font-bold">Pendapatan</h1>
        <button
          id="add-income-btn"
          class="bg-[#4A5C51] text-white font-semibold py-2 px-6 rounded-lg hover:bg-[#3a4a40]"
        >
          TAMBAH
        </button>
      </div>
      <div class="bg-white rounded-2xl p-4 md:p-8 shadow-sm">
        <h2 class="text-xl font-bold mb-4 text-center">
          PENDAPATAN DARI USAHA
        </h2>
        <div
          class="hidden md:grid grid-cols-10 gap-4 bg-slate-100 p-4 rounded-lg mb-2 text-slate-600 font-semibold"
        >
          <div class="col-span-4">Nama Produk</div>
          <div class="col-span-2">Kuantitas</div>
          <div class="col-span-2">Harga Jual (Rp)</div>
          <div class="col-span-2">Total (Rp)</div>
        </div>
        <div id="pendapatan-usaha-rows" class="space-y-4 md:space-y-2"></div>
        {% if not revenue_usaha %}
        <p class="text-center text-slate-500 p-4">Belum ada data pendapatan usaha.</p>
        {% endif %}
        {% for item in revenue_usaha %}
        <div class="text-right font-bold text-lg mt-6">
          Jumlah Penjualan Usaha <span id="jumlah-penjualan-usaha">Rp 0</span>
        </div>
        <hr class="my-10" />
        <h2 class="text-xl font-bold mb-4 text-center">PENDAPATAN LAIN LAIN</h2>
        <div
          class="hidden md:grid grid-cols-10 gap-4 bg-slate-100 p-4 rounded-lg mb-2 text-slate-600 font-semibold"
        >
          <div class="col-span-8">Nama Produk</div>
          <div class="col-span-2">Total (Rp)</div>
        </div>
        <div id="pendapatan-lain-rows" class="space-y-4 md:space-y-2"></div>
        <div class="text-right font-bold text-lg mt-6">
          Jumlah Penjualan Lain Lain
          <span id="jumlah-penjualan-lain">Rp 0</span>
        </div>
        <div class="text-right mt-16">
          <button
            class="py-3 px-12 bg-[#8C705A] text-white font-semibold rounded-lg hover:bg-[#a1826a]"
          >
            Next
          </button>
        </div>
      </div>
    </main>
  </div>

  <div
    id="add-income-modal"
    class="fixed inset-0 bg-black/60 flex justify-center items-center z-50 transition-opacity opacity-0 pointer-events-none p-4"
  >
    <div class="bg-white p-8 rounded-2xl shadow-xl w-full max-w-md">
      <form id="income-form">
        <div class="mb-5">
          <label
            for="modal-product-name"
            class="block mb-2 font-semibold text-slate-600"
            >Nama produk</label
          ><input
            type="text"
            id="modal-product-name"
            placeholder="Nama Produk"
            class="w-full p-3 border border-slate-300 rounded-lg"
          />
        </div>
        <div id="modal-usaha-fields">
          <div class="mb-5">
            <label
              for="modal-quantity"
              class="block mb-2 font-semibold text-slate-600"
              >Kuantitas</label
            ><input
              type="number"
              id="modal-quantity"
              placeholder="Kuantitas Produk"
              class="w-full p-3 border border-slate-300 rounded-lg"
            />
          </div>
          <div class="mb-5">
            <label
              for="modal-price"
              class="block mb-2 font-semibold text-slate-600"
              >Harga Jual</label
            ><input
              type="number"
              id="modal-price"
              placeholder="Rp."
              class="w-full p-3 border border-slate-300 rounded-lg"
            />
          </div>
        </div>
        <div id="modal-lain-total-field" class="hidden mb-5">
          <label
            for="modal-total"
            class="block mb-2 font-semibold text-slate-600"
            >Total</label
          ><input
            type="number"
            id="modal-total"
            placeholder="Rp."
            class="w-full p-3 border border-slate-300 rounded-lg"
          />
        </div>
        <div class="mb-8">
          <label
            for="modal-data-type"
            class="block mb-2 font-semibold text-slate-600"
            >Jenis Data</label
          ><select
            id="modal-data-type"
            class="w-full p-3 border border-slate-300 rounded-lg bg-white"
          >
            <option value="usaha">Pendapatan Dari Usaha</option>
            <option value="lain-lain">Pendapatan Lain Lain</option>
          </select>
        </div>
        <button
          type="submit"
          class="w-full bg-[#4A5C51] text-white p-3 rounded-lg font-semibold text-lg mt-4 hover:bg-[#3a4a40]"
        >
          Selesai
        </button>
      </form>
    </div>
  </div>
  <div
    id="success-alert"
    class="fixed inset-0 bg-black/40 flex justify-center items-center z-50 transition-opacity opacity-0 pointer-events-none"
  >
    ...
  </div>
  <div
    id="error-alert"
    class="fixed inset-0 bg-black/40 flex justify-center items-center z-50 transition-opacity opacity-0 pointer-events-none"
  >
    ...
  </div>
</div>
{% endblock %} {% block extra_js %}
<script src="{% static 'core/js/sidebar.js' %}"></script>
<script src="{% static 'core/js/pendapatan.js' %}"></script>
{% endblock %}
